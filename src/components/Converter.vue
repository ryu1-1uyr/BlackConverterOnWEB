<template>
    <div>
        <div>JavaScript„ÅßË™çË≠ò„Åß„Åç„ÇãË®òÂè∑„ÇíÂêê„ÅçÂá∫„Åô„ÇÑ„Å§ÔºÅÔºÅ</div>
        <div><textarea v-model="inputs" v-on:keyup="ConvertingInput" name="" id="input" cols="100" rows="10"></textarea></div>
        <div><textarea v-bind:value="baseCode+output" id="output" cols="100" rows="10"></textarea></div>
        <p>{{inputs}}</p>
        <button @click="evalCode">„Åø„Çì„Å™Â§ßÂ•Ω„Åçeval</button>
    </div>
</template>

<script>
    const blackConstructor = "[__,_]=[-~-~[-~[]],[...{}+[]][(-~-~[-~[]]+-~-~[-~[]])- -~[]]+[...{}+[]][-~[]]+([]['']+[])[-~[]]+(([]==[])+[])[(-~-~[-~[]])]+(-~[]/[]+[])[(-~-~[-~[]]+-~-~[-~[]])]+(!![]+[])[-~[]]+([]['']+[])[+[]]+[...{}+[]][(-~-~[-~[]]+-~-~[-~[]])- -~[]]+(!![]+[])[+[]]+[...{}+[]][-~[]]+(!![]+[])[-~[]]];";

    const charTable = {
        " ": "' '",
        t: "(!![]+[])[-[]]",
        r: "(!![]+[])[-~[]]",
        u: "([]['']+[])[-[]]",
        e: "(!![]+[])[-~-~[-~[]]]",
        f: "(![]+[])[-[]]",
        a: "(![]+[])[-~[]]",
        l: "(![]+[])[-~[-~[]]]",
        s: "(![]+[])[-~[-~[-~[]]]]",
        n: "([]['']+[])[-~[]]",
        d: "([]['']+[])[-~[-~[]]]",
        i: "([]['']+[])[(-~[]<<-~[-~[]])+-~[]]",
        I: "(~[]/-[]+[])[-[]]",
        y: "(- -~[]/-[]+[])[(-~[]+[]+-~[]>>-~[])+(-~[]<<-~[])]",
        o: "([...{}+{}])[-~[]]",
        b: "([...{}+{}])[-~[]<<-~[]]",
        j: "([...{}+{}])[-~-~[-~[]]]",
        c: "([...{}+{}])[(-~[]+[]+-~[]>>-~[])]",
        N: "(''/''+[])[-[]-[]]",
        "0": "([]-[]+[])",
        "1": "(-~[])",
        "2": "(-~[-~[]])",
        "3": "(__)",
        "4": "(-~[__])",
        "5": "(-~[]+[]+-~[]>>-~[])",
        "6": "(__+__)",
        "7": "((-~[]+[]+-~[]>>-~[])+(-~[]<<-~[]))",
        "8": "(-~[__]*-~-~[])",
        "9": "(__*__)",

    };

    const replaceBlackCode = string => {
        return string.replace(/./gsu, char => charTable[char] || char);
    };

    const createReturnUTF = string => {
        return `(!![]+[])[-~[]]+(!![]+[])[__]+(!![]+[])[+[]]+(!![]+[])[-~[-~[]]]+(!![]+[])[-~[]]+([]['']+[])[-~[]]+' \"'+'\\\\' +([]['']+[])[[]-[]] +'{' +${string}+ '}'+'\"'`;
    };

    const wrapper = string => {
        return `[][_][_](${string})()`;
    };

    export default {
        name: "Converter",
        data() {
            return {
                inputs:'alert("üç∫")',
                output:'(![]+[])[-~[]]+(![]+[])[-~[-~[]]]+(!![]+[])[-~-~[-~[]]]+(!![]+[])[-~[]]+(!![]+[])[-[]]+[][_][_]((!![]+[])[-~[]]+(!![]+[])[__]+(!![]+[])[+[]]+(!![]+[])[-~[-~[]]]+(!![]+[])[-~[]]+([][\'\']+[])[-~[]]+\' "\'+\'\\\\\' +([][\'\']+[])[[]-[]] +\'{\' +(-~[-~[]])+(-~[__]*-~-~[])+ \'}\'+\'"\')()+[][_][_]((!![]+[])[-~[]]+(!![]+[])[__]+(!![]+[])[+[]]+(!![]+[])[-~[-~[]]]+(!![]+[])[-~[]]+([][\'\']+[])[-~[]]+\' "\'+\'\\\\\' +([][\'\']+[])[[]-[]] +\'{\' +(-~[-~[]])+(-~[-~[]])+ \'}\'+\'"\')()+[][_][_]((!![]+[])[-~[]]+(!![]+[])[__]+(!![]+[])[+[]]+(!![]+[])[-~[-~[]]]+(!![]+[])[-~[]]+([][\'\']+[])[-~[]]+\' "\'+\'\\\\\' +([][\'\']+[])[[]-[]] +\'{\' +([][\'\']+[])[-~[-~[]]]+(-~[__]*-~-~[])+(__)+([...{}+{}])[(-~[]+[]+-~[]>>-~[])]+ \'}\'+\'"\')()+[][_][_]((!![]+[])[-~[]]+(!![]+[])[__]+(!![]+[])[+[]]+(!![]+[])[-~[-~[]]]+(!![]+[])[-~[]]+([][\'\']+[])[-~[]]+\' "\'+\'\\\\\' +([][\'\']+[])[[]-[]] +\'{\' +([][\'\']+[])[-~[-~[]]]+(![]+[])[-[]]+((-~[]+[]+-~[]>>-~[])+(-~[]<<-~[]))+(![]+[])[-~[]]+ \'}\'+\'"\')()+[][_][_]((!![]+[])[-~[]]+(!![]+[])[__]+(!![]+[])[+[]]+(!![]+[])[-~[-~[]]]+(!![]+[])[-~[]]+([][\'\']+[])[-~[]]+\' "\'+\'\\\\\' +([][\'\']+[])[[]-[]] +\'{\' +(-~[-~[]])+(-~[-~[]])+ \'}\'+\'"\')()+[][_][_]((!![]+[])[-~[]]+(!![]+[])[__]+(!![]+[])[+[]]+(!![]+[])[-~[-~[]]]+(!![]+[])[-~[]]+([][\'\']+[])[-~[]]+\' "\'+\'\\\\\' +([][\'\']+[])[[]-[]] +\'{\' +(-~[-~[]])+(__*__)+ \'}\'+\'"\')()+\' \'',
                baseCode:blackConstructor
            }
        },
        methods:{
            ConvertingInput(){
                const processingData =[]

                for (const input of [...this.inputs+[]]) {

                    //‰Ωø„Åà„ÇãÊñáÂ≠ó„Å™„Çâ => ÁΩÆ„ÅçÊèõ„Åà„Çã
                    if (input in charTable) {
                        processingData.push(charTable[input]);
                        continue;
                    }

                    // charCodeÂçò‰Ωç„Åß„Ç§„ÉÜ„É¨„Éº„Éà„Åô„Çã
                    for (let i = 0, l = input.length; i < l; ++i) {
                        //‰Ωø„Åà„Å™„ÅÑÊñáÂ≠ó„Å™„Çâ => utf8„Å´Â§âÊèõ„Åó„Å¶„ÄÅÊï∞Â≠ó„ÇíË®òÂè∑Âåñ„Åô„Çã
                        const parsedArr = [...(input.charCodeAt(i).toString(16) + [])];

                        //„Åì„Åì„ÅßÂΩ¢Êàê„Åó„ÅüÈÖçÂàó„Çí„Åï„Çâ„Å´replaceBlackCode„Åó„Å¶„Åæ„Å®„ÇÅ„Çã
                        const flamedArr = parsedArr.map(replaceBlackCode);

                        const utf8code = wrapper(createReturnUTF(flamedArr.join("+")));
                        processingData.push(utf8code);
                    }
                }
                this.output = processingData.join('+')
            },
            evalCode(){
                try {
                    let replacedElement = this.output.split('__').join("-~-~-~[]").split('_').join('[...{}+[]][(-~-~[-~[]]+-~-~[-~[]])- -~[]]+[...{}+[]][-~[]]+([][\'\']+[])[-~[]]+(([]==[])+[])[(-~-~[-~[]])]+(-~[]/[]+[])[(-~-~[-~[]]+-~-~[-~[]])]+(!![]+[])[-~[]]+([][\'\']+[])[+[]]+[...{}+[]][(-~-~[-~[]]+-~-~[-~[]])- -~[]]+(!![]+[])[+[]]+[...{}+[]][-~[]]+(!![]+[])[-~[]]')

                    console.log(eval(replacedElement))
                    eval(eval(replacedElement))

                }catch (e) {
                    console.error(e,"Âãï„Åç„Åæ„Åõ„Çì„Åß„Åó„Åü‚Ä¶!")
                }

            }
        },
        computed(){
            this.ConvertingInput()
        }
    }



    // ([...{}+{}])[(-~[]+[]+-~[]>>-~[])]+([...{}+{}])[-~[]]+([]['']+[])[-~[]]+(![]+[])[-~[-~[-~[]]]]+([...{}+{}])[-~[]]+(![]+[])[-~[-~[]]]+(!![]+[])[-~-~[-~[]]]+
    //
    //
    //
   //,
    // [][_][_] ( (!![]+[])[-~[]]+(!![]+[])[ [-~-~[-~[]] ] + (!![]+[])[+[]] +(!![]+[])[-~[-~[]]]
    // +(!![]+[])[-~[]]+([]['']+[])[-~[]]+' "'+'\\' +([]['']+[])[[]-[]] +'{' +(-~[-~[]])+(!![]+[])[ -~-~[-~[]] ]+ '}'+'"')()
    //
    // +(![]+[])[-~[-~[]]]+([...{}+{}])[-~[]]+[][_][_]((!![]+[])[-~[]]+(!![]+[])[__]+(!![]+[])[+[]]+(!![]+[])[-~[-~[]]]+(!![]+[])[-~[]]+([]['']+[])[-~[]]+' "'+'\\' +([]['']+[])[[]-[]] +'{' +(__+__)+((-~[]+[]+-~[]>>-~[])+(-~[]<<-~[]))+ '}'+'"')()+[][_][_]((!![]+[])[-~[]]+(!![]+[])[__]+(!![]+[])[+[]]+(!![]+[])[-~[-~[]]]+(!![]+[])[-~[]]+([]['']+[])[-~[]]+' "'+'\\' +([]['']+[])[[]-[]] +'{' +(-~[-~[]])+(-~[__]*-~-~[])+ '}'+'"')()+[][_][_]((!![]+[])[-~[]]+(!![]+[])[__]+(!![]+[])[+[]]+(!![]+[])[-~[-~[]]]+(!![]+[])[-~[]]+([]['']+[])[-~[]]+' "'+'\\' +([]['']+[])[[]-[]] +'{' +(-~[-~[]])+(-~[-~[]])+ '}'+'"')()+(![]+[])[-~[]]+[][_][_]((!![]+[])[-~[]]+(!![]+[])[__]+(!![]+[])[+[]]+(!![]+[])[-~[-~[]]]+(!![]+[])[-~[]]+([]['']+[])[-~[]]+' "'+'\\' +([]['']+[])[[]-[]] +'{' +(-~[-~[]])+(-~[-~[]])+ '}'+'"')()+[][_][_]((!![]+[])[-~[]]+(!![]+[])[__]+(!![]+[])[+[]]+(!![]+[])[-~[-~[]]]+(!![]+[])[-~[]]+([]['']+[])[-~[]]+' "'+'\\' +([]['']+[])[[]-[]] +'{' +(-~[-~[]])+(__*__)+ '}'+'"')()



    // ([...{}+{}])[(-~[]+[]+-~[]>>-~[])]+([...{}+{}])[-~[]]+([]['']+[])[-~[]]+(![]+[])[-~[-~[-~[]]]]+([...{}+{}])[-~[]]+(![]+[])[-~[-~[]]]+(!![]+[])[-~-~[-~[]]]+
    // [][_][_] ( (!![]+[])[-~[]]+(!![]+[])[__] + (!![]+[])[+[]]+(!![]+[])[-~[-~[]]]+(!![]+[])[-~[]]+([]['']+[])[-~[]]+' "'+'\\' +([]['']+[])[[]-[]] +'{' +(-~[-~[]])+(!![]+[])[-~-~[-~[]]]+ '}'+'"')()
    // +(![]+[])[-~[-~[]]]+([...{}+{}])[-~[]]+[][_][_]((!![]+[])[-~[]]+(!![]+[])[__]+(!![]+[])[+[]]+(!![]+[])[-~[-~[]]]+(!![]+[])[-~[]]+([]['']+[])[-~[]]+' "'+'\\' +([]['']+[])[[]-[]] +'{' +(__+__)+((-~[]+[]+-~[]>>-~[])+(-~[]<<-~[]))+ '}'+'"')()+[][_][_]((!![]+[])[-~[]]+(!![]+[])[__]+(!![]+[])[+[]]+(!![]+[])[-~[-~[]]]+(!![]+[])[-~[]]+([]['']+[])[-~[]]+' "'+'\\' +([]['']+[])[[]-[]] +'{' +(-~[-~[]])+(-~[__]*-~-~[])+ '}'+'"')()+[][_][_]((!![]+[])[-~[]]+(!![]+[])[__]+(!![]+[])[+[]]+(!![]+[])[-~[-~[]]]+(!![]+[])[-~[]]+([]['']+[])[-~[]]+' "'+'\\' +([]['']+[])[[]-[]] +'{' +(-~[-~[]])+(-~[-~[]])+ '}'+'"')()+(![]+[])[-~[]]+[][_][_]((!![]+[])[-~[]]+(!![]+[])[__]+(!![]+[])[+[]]+(!![]+[])[-~[-~[]]]+(!![]+[])[-~[]]+([]['']+[])[-~[]]+' "'+'\\' +([]['']+[])[[]-[]] +'{' +(-~[-~[]])+(-~[-~[]])+ '}'+'"')()+[][_][_]((!![]+[])[-~[]]+(!![]+[])[__]+(!![]+[])[+[]]+(!![]+[])[-~[-~[]]]+(!![]+[])[-~[]]+([]['']+[])[-~[]]+' "'+'\\' +([]['']+[])[[]-[]] +'{' +(-~[-~[]])+(__*__)+ '}'+'"')()

        //,
    // [][_][_] ( (!![]+[])[-~[]]+(!![]+[])[__]
    //     +(!![]+[])[+[]]+(!![]+[])[-~[-~[]]]+(!![]+[])[-~[]]+([]['']+[])[-~[]]+' "'+'\\' +([]['']+[])[[]-[]] +'{' +(-~[-~[]])+(!![]+[])[-~-~[-~[]]]+ '}'+'"')()

</script>

<style >
    textarea{
        border: #2c3e50 1px solid;
        border-radius: 5px;
        margin: 20px;
    }
    button{
        border: #2c3e50 1px solid;
        border-radius: 10px;
    }
    button:hover{
        background-color: rgba(219,83,19,0.28);
        -webkit-transition: 0.3s ease-in-out;
    }

</style>